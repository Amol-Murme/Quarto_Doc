---
jupyter: python3
title: "ABC Bank Ltd."
execute:
   code-fold: true
   echo: false
subtitle: "Cognext model"
author: "amol"
date: "22-08-2022"
format:
  pdf:
    toc: true
---

## EXECUTIVE SUMMARY
  This document covers the model development process for **XGBoost_2_AutoML_20210218_195405** model. The model is a classification model that uses xgboost with input data consisting of 20000 observations and 70 features. The model achieves Auto of **75.84%** on validation dataset and **74.98%** on Out-of-Sample (OOS) test dataset.

## MODEL PERFORMANCE SUMMARY
  | Dataset     |   Size                      |      Auto                   |
  |-------------|-----|------|
  | Validation  | {{< var Validation.Size >}} | {{< var Validation.Auto >}} |
  | OSS Test    | {{< var OOS_test.Size >}}   | {{< var OOS_test.Auto >}}   |

## DATASET
  Following dataset were used for model training, tuning and OOS performance estimation:

  | Dataset   |   Size       |   Features  | Purpose    |
  |-----------|--------------|-------------|------------|
  | Train     | {{< var Train.Size >}} | {{< var Train.Features >}} |{{< var Train.Purpose >}} |
  |Validation |{{< var Validation.Size >}}|{{< var Validation.Features >}}|{{< var Validation.Purpose >}}|
  | OSS Test  |{{< var OOS_test.Size >}}   | {{< var OOS_test.Features >}}|{{< var OOS_test.Purpose >}}|

## EDA
  Following is a summary of input data. Refer Annexure-1 for detailed EDA.
  
  ![Image](Images/images.jpeg)

## Methodology Overview
  {{< var Algorithm.Name >}} {{< var Algorithm.Overview >}}

```{python}
#| tags: [parameters]

alpha = 0.1
ratio = 0.1
import pandas as pd

df = pd.read_csv('Data source/test.csv')
#print(df.to_string(index= False))

from IPython.display import Markdown
from tabulate import tabulate
table = df.values.tolist()
Markdown(tabulate(
  table, 
  headers=df.columns,
  tablefmt= "grid"
))

```
 Following is a summary of steps performed to train the model:
 ![Model Development Pipeline](Images/images.jpeg)

### Data Preparation
  {{< var Data_Preparation >}}

### Feature Transformation
  {{< var Feature_Transformation >}}

### Model Tuning
  {{< var Model_Tunning >}}

### Model Performance Evaluation
  {{< var Model_Perfor_Eval >}}

### Model Stability
  {{< var Model_Stability >}}

## Model Details
  {{< var Model_Details.details >}}

### Model Hyperparameters
  Following is a summary of key model hyperparameters:
```{python}
#| tags: [parameters]

alpha = 0.1
ratio = 0.1
import pandas as pd

df = pd.read_csv('Data source/test.csv')
#print(df.to_string(index= False))

from IPython.display import Markdown
from tabulate import tabulate
table = df.values.tolist()
Markdown(tabulate(
  table, 
  headers=df.columns,
  tablefmt= "grid"
))

# print(tabulate(
#   table, 
#   headers=df.columns,
#   tablefmt= "grid"
# ))
```

'+--------+------------+-------+\n| Name   | LastName   | Age   |\n+========+============+=======+\n| Name   | LastName   | Age   |\n+--------+------------+-------+\n| Juan   | Lopez      | 22    |\n+--------+------------+-------+\n| Luisa  | Perez      | 24    |\n+--------+------------+-------+\n| Ana    | Sanchez    | 23    |\n+--------+------------+-------+'
### Important Features
  Following is a list of important features for the model:
  | Dataset     |   Size                      |      Auto                   |
  |-------------|-----|------|
  | Validation  | {{< var Validation.Size >}} | {{< var Validation.Auto >}} |
  | OSS Test    | {{< var OOS_test.Size >}}   | {{< var OOS_test.Auto >}}   |

  ![Partial Dependance Graph](Images/pdg.png)

### Model Performance
  Following are the model performance statistics on validation and OOS test dataset:
  **Validation dataset**

  ![Model Performance on Validation dataset](Images/roc.png)

  **Test dataset**

  ![Model Performance on Test dataset](Images/roc.png)

### Model Stability
  Following are model stability statistics:
  **Train vs. Validation dataset**
  ![Model Stability (Val vs. Train dataset)](Images/roc.png)

  **Validation vs. Test dataset**
  ![Model Stability (Val vs. Test dataset)](Images/roc.png)

### Model Performance by Number of Features
  Following is a summary of model performance, if it is replaced with a model with subset of important features. This may be used to identify if final modelâ€™s performance maybe matched with a simpler model with less number of features.